Create a sophisticated Hartbeespoort Dam water quality monitoring dashboard called "Harties Action" with comprehensive real-time monitoring, AI-powered analytics, role-based access control, and advanced data visualization. This is a professional-grade environmental monitoring system for Hartbeespoort Dam in South Africa.

=== VISUAL DESIGN & BRANDING ===

The entire application uses a professional glassmorphic design language with a sophisticated green and earth-tone color palette. Light mode features a subtle gradient background (linear-gradient from #f8fbf8 through #eef7ee to #f2f9f2) with white glass cards that have rgba(255, 255, 255, 0.95) backgrounds and backdrop-blur effects. The primary brand color is deep forest green (#2d5016) used throughout for buttons, active states, and accents.

Dark mode transforms the entire interface with a dark gradient background (linear-gradient from #0a1a0a through #0f2e0f to #0d1f0d), dark glass cards with rgba(26, 46, 26, 0.95) backgrounds, and a lighter green (#7ba05b) for primary elements to maintain contrast. The dark mode toggle is available in the sidebar footer and profile page, persists to localStorage, and smoothly transitions all colors.

The custom "Harties Action" logo appears prominently in the login screen, register screen, sidebar header, and mobile header. All cards use rounded-xl corners (12px), buttons use rounded-lg (8px), and badges use rounded-full. Professional shadows include shadow-lg for cards and shadow-xl for modals with hover state transitions.

Status colors are carefully designed: Operational/Good uses emerald green gradients (linear-gradient from #22c55e to #16a34a), Warning uses amber gradients (linear-gradient from #f59e0b to #d97706), and Critical uses red gradients (linear-gradient from #ef4444 to #dc2626). Each status has corresponding light background shades for badges and indicators.

=== AUTHENTICATION SYSTEM ===

LOGIN SCREEN: Full-screen centered glass card on gradient background with the Harties Action logo at top, "Welcome Back" heading in large bold text, email input with Mail icon, password input with Lock icon and toggle visibility (Eye/EyeOff icons), gradient-primary "Login" button, outline style "Continue as Guest" button, and "New user? Register here" link at bottom. Mock authentication accepts any email/password but intelligently assigns roles: emails containing 'admin' get Admin role, 'viewer' gets Viewer role, emails with 'harties' or 'hartbeespoort' get assigned to "Hartbeespoort Local Municipality" organization with Viewer role locked, others default to Operator role with "Independent Organization". Session saves to localStorage and shows toast notification on login.

REGISTER SCREEN: Full-screen centered card with step-by-step registration form including First Name, Last Name, Email (validated), Organization dropdown (Independent Organization, Hartbeespoort Local Municipality, Other), Role dropdown (Admin, Operator, Viewer), Password with validation (minimum 8 characters, toggle visibility), and Confirm Password (must match). CRITICAL FEATURE: When "Hartbeespoort Local Municipality" is selected, the role dropdown automatically locks to "Viewer" with the dropdown disabled and a tooltip explaining the restriction. The form shows inline validation errors, includes back button to login, gradient "Register" button, and "Continue as Guest" option. Logo appears at top.

GUEST MODE: Provides limited read-only access throughout the application. Guest users can view all dashboard data, analytics, reports, and maps but cannot log actions (shows lock icon with "Login for full access" tooltip), cannot configure buoy positions, cannot export data, and see restricted access messages on premium features. A persistent "Guest Mode" banner appears in the header with an info icon explaining limitations.

SESSION PERSISTENCE: User session including user data, guest mode flag, and dark mode preference saves to localStorage on login/register. On page refresh, the app automatically restores the session from localStorage and navigates back to the dashboard, preventing logout on refresh. The dark mode preference also persists independently.

=== ROLE-BASED ACCESS CONTROL ===

ADMIN ROLE (Full Access): Can configure buoy positions using drag-and-drop interface, log maintenance actions, view and export all data, access advanced analytics, view all reports, modify system settings, and has no restrictions. Admin-only features show normally with full functionality.

OPERATOR ROLE (Standard Access): Can view all dashboard data, log actions and maintenance tasks, view analytics and reports, access the fullscreen map, but cannot configure buoy positions (button hidden) and cannot export data (shows "Admin only" message). Most features are accessible.

VIEWER ROLE (Read-Only): Can only view dashboard data, sensor readings, analytics, and reports. Cannot log actions (shows lock icon with tooltip "Viewers cannot log actions. Contact your administrator."), cannot configure buoys, cannot export data (shows "Upgrade to export" message), and sees disabled states on all write operations. Lock icons appear on restricted features.

ORGANIZATION RESTRICTION: Users from "Hartbeespoort Local Municipality" are permanently locked to Viewer role during registration and cannot change this. The role dropdown is disabled with a clear visual indicator and tooltip explaining the organizational policy. This restriction is enforced throughout the application.

=== NAVIGATION & LAYOUT ===

DESKTOP SIDEBAR: Left-side fixed sidebar with glass effect background, featuring Harties Action logo and "Harties Action" text at top in large bold letters. Navigation items use lucide-react icons: Dashboard (Home icon), Analytics (BarChart3 icon), Action Logging (ClipboardList icon), Reports (FileText icon), Full Map View (Map icon), and Profile (User icon). Active page is highlighted with primary green background and white text. Sidebar footer contains user info card showing circular avatar, user name, role badge (color-coded: Admin in purple, Operator in blue, Viewer in gray), dark mode toggle button with Moon/Sun icons, and red outline Logout button. The sidebar is always visible on desktop (>1024px).

MOBILE HEADER: Hamburger menu icon (left), Harties Action logo (center), user avatar (right). Tapping hamburger opens a drawer sliding from left with the same navigation structure as desktop sidebar. The drawer has smooth animations, closes on navigation, and includes overlay backdrop. Bottom navigation bar optional for quick access to main features.

=== PAGE 1: MAIN DASHBOARD ===

HEADER SECTION: "Hartbeespoort Dam Monitoring" title with "Real-time water quality oversight" subtitle, Activity icon in gradient green square. Controls row includes Zone Filter dropdown (Overall View, Zone 1 - North, Zone 2 - Northeast, Zone 3 - Central, Zone 4 - West, Zone 5 - South) with MapPin icon, "Alerts Only" toggle button with AlertTriangle icon that filters to show only buoys with active alerts, and "Configure Buoys" button (Admin only) with Settings icon that opens the drag-and-drop configurator modal.

STATUS OVERVIEW CARDS: Four cards in responsive grid displaying: (1) Operational - count of good status buoys in emerald green gradient with Shield icon, (2) Warnings - count of warning status buoys in amber gradient with AlertTriangle icon, (3) Critical - count of critical status buoys in red gradient with AlertCircle icon, (4) Total Sensors - total filtered buoys in blue gradient with Activity icon. Each card has large number display, label text, and animated counting on data change.

MAIN CONTENT LAYOUT: Two-column layout on desktop (60/40 split), stacked on mobile.

LEFT COLUMN - DAM OVERVIEW MAP CARD: Header shows "Dam Overview Map" with Clock icon and "Auto-updating every 5 seconds" text. The map displays a stylized dam shape with gradient blue water (light blue #a8dadc to deeper blue #457b9d). All 10 buoys are rendered as circular markers positioned at exact percentage coordinates: Buoy-1 (48.5%, 42.0%), Buoy-2 (52.0%, 50.0%), Buoy-3 (46.0%, 58.0%), Buoy-4 (42.0%, 52.0%), Buoy-5 (56.0%, 44.0%), Buoy-6 (54.0%, 54.0%), Buoy-7 (50.0%, 60.0%), Buoy-8 (44.0%, 46.0%), Buoy-9 (46.0%, 48.0%), Buoy-10 (58.0%, 48.0%). Each buoy is color-coded by status (green circle for good, orange for warning, red for critical), has a subtle pulse animation, shows name on hover, and grows with ring animation when selected. Zone boundaries are shown with subtle dotted lines in respective zone colors. Top-right overlay has "Fullscreen" button (Maximize icon) and "Legend" toggle button (Layers icon).

LEGEND COMPONENT (collapsible): Glass card panel with three sections: (1) Status Colors showing green circle "Operational - All parameters within normal range", orange circle "Warning - One or more parameters elevated", red circle "Critical - Immediate attention required", (2) Zone Descriptions with color indicators and geographic labels (Zone 1 #4a7c59, Zone 2 #7ba05b, Zone 3 #9cb86f, Zone 4 #5d8233, Zone 5 #6a8a3a), (3) Parameter Thresholds with tooltips showing TSS Normal <3000 mg/L Warning 3000-5000 Critical >5000, DO Normal >6.0 mg/L Warning 4.5-6.0 Critical <4.5, pH Normal 6.8-8.2 Warning edges Critical <6.5 or >8.5, Phosphate Normal <0.2 mg/L Warning 0.2-0.3 Critical >0.3. Each section has icons and collapsible panels.

RIGHT COLUMN - DYNAMIC PANEL: Shows Recent Actions Panel when no buoy is selected, or Sensor Details Panel when a buoy is clicked.

RECENT ACTIONS PANEL: Displays 5 most recent action logs in chronological order. Each log entry shows timestamp in gray text, user name with small circular avatar, action type badge (color-coded: Maintenance in blue, Calibration in purple, Inspection in green, Alert in orange, System in gray), buoy name in medium text, and details description in smaller gray text. Category badges use pill-shaped design. "View All Logs" button at bottom with ChevronRight icon navigates to Action Logging page.

SENSOR DETAILS PANEL (when buoy selected): Card header shows buoy name in large text, status badge (Operational/Warning/Critical with corresponding colors), and zone badge. Main content has Sensor Readings Grid displaying each parameter as a card: TSS with Droplets icon showing value in mg/L, DO with Waves icon showing value in mg/L, pH with FlaskConical icon showing unitless value, Phosphate with TestTube icon showing value in mg/L, Temperature with Thermometer icon showing value in °C. Each reading card shows current value in large numbers, unit label, status indicator dot (green/orange/red), and small trend arrow (up/down/stable based on simulated change). Active Alerts Section appears if alerts exist, showing red alert box with AlertTriangle icon and list of alert messages. DIAGNOSTICS PANEL follows below.

DIAGNOSTICS PANEL: Two-part intelligent analysis system. "Probable Causes" section with Lightbulb icon analyzes current sensor readings and shows likely causes: Low DO + High TSS triggers "Possible algae bloom - nutrient overload detected", High pH + Low DO shows "Excessive photosynthetic activity - consider aeration", High temperature + Low DO indicates "Thermal stratification - oxygen depletion in lower layers", High phosphate shows "Nutrient pollution - check upstream sources". "Recommended Actions" section with CheckCircle icon lists 3-5 actionable items with priority badges: "Immediate" in red for critical actions like "Deploy aeration system immediately", "Soon" in orange for "Schedule maintenance within 24 hours", "Routine" in blue for "Continue monitoring trend". The diagnostics intelligently combine multiple sensor values to provide contextual advice. Quick Actions buttons at bottom include "Log Maintenance" (Admin/Operator only), "View History", and "Export Data" (Admin/Operator only). Close button (X icon) clears selection and returns to recent actions view.

=== PAGE 2: ADVANCED ANALYTICS (AI-POWERED) ===

This is the crown jewel of the application - a comprehensive AI analytics dashboard with multiple analysis modes, real-time calculations, and predictive insights.

HEADER SECTION: "AI-Powered Analytics Dashboard" title with Brain icon in purple gradient, subtitle "Advanced data science and machine learning insights". Header card displays System Health Score as large percentage with color-coded badge (green ≥80%, orange 60-79%, red <60%), "Live Analysis" badge with pulse animation. Metrics grid below shows six key metrics in grid layout: Operational count in green, Warning count in yellow, Critical count in red, Average WQI (Water Quality Index) score in blue, Data Accuracy percentage in purple, and AI Alerts count in indigo. Each metric has large bold number, small label text, and subtle icon.

FOUR-TAB ANALYSIS SYSTEM:

TAB 1 - OVERVIEW: Real-time Parameter Trends line chart showing all buoys on X-axis with three overlaid lines: Dissolved Oxygen in chart-green, pH Level (scaled ×2 for visibility) in chart-yellow, Temperature in chart-red. CartesianGrid with dotted lines, responsive container, tooltip on hover, legend at top. System Status Distribution pie chart displaying operational/warning/critical buoy counts as colored segments with percentage labels. Each segment shows name and percentage when hovering. Multi-Parameter Analysis radar chart with five axes: Dissolved O₂, pH Level, TSS, Phosphate, Temperature. Shows three overlaid polygons: Current Average in green fill, Optimal values in blue outline, Critical thresholds in red. PolarGrid, PolarAngleAxis, responsive sizing.

TAB 2 - WATER QUALITY INDEX: Advanced WQI calculation system analyzing each buoy individually. Each buoy gets its own glass card showing buoy name, WQI grade badge (Excellent ≥90 green, Good 70-89 blue, Fair 50-69 yellow, Poor 25-49 orange, Very Poor <25 red), and WQI score number. Horizontal progress bar visualizes score with color gradient matching grade. Below shows detailed parameter breakdown: each sensor (DO, pH, TSS, Phosphate, Temperature) displays individual score out of 100, weight percentage (DO 25%, pH 20%, TSS 20%, Phosphate 25%, Temperature 10%), and impact indicator (positive green checkmark, neutral yellow dash, negative red X). Scores calculated using weighted formula: DO weighted 0.25 scores 100 for ≥8 mg/L scaling down to 20 for <2, pH weighted 0.20 scores 100 for 7.0-8.5 scaling down for extremes, TSS weighted 0.20 scores 100 for ≤1000 scaling down to 20 for ≥6000, Phosphate weighted 0.25 scores 100 for ≤0.1 scaling down to 20 for ≥0.4, Temperature weighted 0.10 scores 100 for 18-25°C. Cards arranged in responsive grid, animated entrance with staggered motion effects.

TAB 3 - CORRELATIONS: Advanced statistical analysis of parameter relationships. Correlation Matrix shows all parameter pairs with correlation coefficients: DO vs pH, DO vs TSS, DO vs Phosphate, DO vs Temperature, pH vs TSS, pH vs Phosphate, pH vs Temperature, TSS vs Phosphate, TSS vs Temperature, Phosphate vs Temperature. Each correlation displays coefficient value (-1.00 to +1.00), strength badge (Strong >0.7 red, Moderate 0.4-0.7 yellow, Weak <0.4 gray), and trend indicator (Positive upward arrow, Negative downward arrow). Calculated using Pearson correlation formula across all buoy readings. Scatter plots visualize key correlations with data points representing individual buoys, color-coded by status, regression line overlaid. Reference lines show optimal ranges. Interactive tooltips display buoy name and exact values.

TAB 4 - AI PREDICTIONS: Machine learning prediction models for each parameter. Each parameter card shows: Parameter name with icon (DO with Droplets, pH with FlaskConical, TSS with Waves, Phosphate with TestTube, Temperature with Thermometer), Model Accuracy percentage (calculated from coefficient of variation, higher stability = higher accuracy), three time-horizon predictions with confidence intervals: Next Hour prediction, Next 6 Hours prediction, Next 24 Hours prediction. Trend indicator shows "Improving" with upward green arrow, "Stable" with horizontal yellow line, or "Deteriorating" with downward red arrow. Confidence score shown as percentage. Line chart visualizes predictions over time with shaded confidence bands. Accuracy typically ranges 60-95% based on parameter stability. Predictions use current mean values with trend factors: improving parameters increase 2-10%, deteriorating decrease 2-10%, stable remain within ±2%. Below prediction cards, "Predictive Insights" section shows AI-generated alerts: each insight card displays confidence score badge, insight title (e.g., "Low oxygen event predicted in Zone 4"), detailed description explaining the prediction logic, predicted timeframe (Next 6 hours / Within 24 hours / Next 3 days), affected buoys list with links, and recommended action badge (Immediate red / Soon orange / Routine blue). Insights are generated by analyzing trends, correlations, and threshold proximity. High-priority insights (confidence >80% and timeframe <6 hours) show with pulsing red border and toast notification.

SYSTEM METRICS CALCULATIONS: System Health Score calculated from: (good buoys / total buoys) × 40 + (average WQI / 100) × 30 + max(0, (20 - active alerts) / 20) × 20 + max(0, (10 - predictive alerts) / 10) × 10. Data Reliability calculated from average prediction accuracy across all parameters. Operational Efficiency calculated as (good + warning buoys) / total buoys × 100.

All charts use Recharts library with custom styling, responsive containers, var(--chart-1) through var(--chart-5) colors from globals.css, smooth animations on load (800ms for data, 300ms for updates), hover interactions with detailed tooltips, and mobile-optimized simplified views.

=== PAGE 3: ACTION LOGGING ===

HEADER: "Action & Maintenance Logging" title with ClipboardList icon, subtitle "Track all system activities and maintenance tasks". "New Action" button (Admin/Operator only) with Plus icon in gradient-primary, opens logging modal. For Viewers/Guests, button shows with lock icon and tooltip "Viewers cannot log actions. Contact your administrator."

FILTERS ROW: Date range picker with Calendar icon (Last 7 days / Last 30 days / Custom), User filter dropdown showing all users who have logged actions with avatar icons, Category filter dropdown (All / Maintenance / Calibration / Inspection / Alert / System) with Filter icon, Buoy filter dropdown (All / specific buoy names) with MapPin icon, Search input with Search icon for filtering by details text. Filters update table in real-time, with smooth animation transitions.

ACTION LOG TABLE: Professional table with shadcn Table component, columns: Timestamp (sortable, format: YYYY-MM-DD HH:mm), User (with circular avatar and name, sortable), Action (sortable text), Buoy (with zone badge, sortable), Category (colored badge - Maintenance blue, Calibration purple, Inspection green, Alert orange, System gray), Details (truncated with "..." and "View Full" link on hover). Clicking column headers sorts ascending/descending with arrow indicators. Row hover shows light background highlight and "View Details" button on right. Pagination shows 20 items per page with Previous/Next buttons and page numbers. Empty state displays illustration with "No actions logged yet" message and prompt to log first action.

NEW ACTION MODAL: Dialog overlay with backdrop blur, centered card. Form fields: Action Type dropdown (Maintenance / Calibration / Inspection / Manual Check / Emergency Response / System Update) with required asterisk, Select Buoy dropdown with searchable list of all 10 buoys showing names and current status, Details textarea (required, minimum 10 characters, placeholder "Describe the action taken, observations, and any relevant details..."), User auto-filled from current logged-in user (read-only field showing avatar and name), Timestamp auto-filled with current date/time (read-only). Form validation shows inline error messages for missing required fields. Buttons: gradient-primary "Log Action" button (disabled until valid), outline "Cancel" button. On submit, shows loading spinner briefly, adds new log to top of table with slide-in animation, displays toast notification "Action logged successfully", closes modal, and clears form. Log data saved to component state (resets on page refresh, but action history persists in localStorage for demo purposes).

RESTRICTED ACCESS: Viewers and Guests see lock icon on "New Action" button, click shows alert dialog "Access Restricted - Viewers cannot log actions. Login as Admin or Operator for full access" with "Understood" button. Table remains fully viewable and filterable for all roles.

FULL ACTION HISTORY: Shows all historical logs with infinite scroll or "Load More" button at bottom. Each log entry expandable to show full details in accordion format. Export filtered results as CSV (Admin/Operator only) with "Export" button showing Download icon.

=== PAGE 4: REPORTS ===

HEADER: "Reports & Data Export" title with FileText icon, subtitle "Comprehensive analysis and exportable reports". Controls: Time range selector dropdown (Last 7 days / Last 30 days / Last 90 days / Custom Range with date pickers) with Calendar icon, "Export Report" button (Admin/Operator only) with Download icon in gradient-primary. Viewers see disabled export button with "Upgrade to export" tooltip.

THREE REPORT TYPE TABS:

SUMMARY REPORT TAB: Water Quality Overview Card at top showing four metrics grid: Average DO across all buoys with trend arrow and percentage change from previous period (green positive, red negative), Average pH with trend, Average TSS with trend, Average Phosphate with trend. Below, Status Pie Chart displays good/warning/critical distribution as colored segments with legend. Zone Performance Grid shows 5 cards, one per zone: Zone name with color indicator, average WQI score for that zone, buoy count, dominant status, and mini trend sparkline. Alert Summary section shows total alerts count in large number, breakdown by severity (Critical count in red, Warning count in orange, Info count in blue), most common alert types as horizontal bar chart. Most Active Buoys section lists top 3 buoys by alert frequency with buoy name, zone badge, alert count, and status indicator.

DETAILED ANALYSIS TAB: Water Quality Trends shows line charts for each parameter over selected time range: TSS trend chart with reference lines at 3000 (warning) and 5000 (critical), DO trend chart with reference lines at 6.0 (warning) and 4.5 (critical), pH trend chart with optimal range shaded, Phosphate trend chart with warning/critical thresholds, Temperature trend chart. All charts use time on X-axis (days/hours based on range), smooth curves, hover tooltips showing exact values at timestamp. Buoy Status History timeline shows horizontal timeline with each buoy as row, colored segments showing when status changed (green/orange/red blocks), status change events marked with dots, tooltip on hover showing exact timestamp and trigger reason. Sensor Readings Table displays sortable/filterable table of all readings with columns: Timestamp, Buoy, Zone, DO, pH, TSS, Phosphate, Temperature, Status. Click column header to sort, use filters above to narrow results. Pagination with 50 rows per page. Statistical Summary section shows for each parameter: Minimum value with timestamp, Maximum value with timestamp, Average value, Median value, Standard deviation, Coefficient of variation percentage. Data displayed in responsive grid cards.

COMPLIANCE REPORT TAB: Threshold Compliance section shows for each parameter: Progress bar indicating percentage of time within normal range during selected period (green fill), percentage within warning range (orange fill), percentage in critical range (red fill), numeric compliance score (0-100), grade (Excellent >95%, Good 90-95%, Fair 80-90%, Poor <80%) with colored badge. SLA Metrics shows mock performance metrics: System Uptime 99.8% with green checkmark, Average Response Time to Critical Alerts "< 15 minutes" with clock icon, Data Collection Reliability 99.5% with shield icon, Maintenance Completion Rate 98% with wrench icon. Each metric in card with large percentage, label, icon. Incident Log table lists all critical alerts during period with columns: Date/Time, Buoy, Parameter, Value, Threshold Exceeded, Duration, Resolution Status (Resolved green / In Progress orange / Pending red), Actions Taken. Sortable and filterable. Automated Recommendations section shows AI-generated recommendations based on compliance data: each recommendation card displays priority badge (High red / Medium orange / Low blue), recommendation text (e.g., "Increase monitoring frequency in Zone 4 due to recurring DO issues"), affected buoys/zones, supporting data (charts/numbers), and "View Details" link.

EXPORT FUNCTIONALITY: Clicking "Export Report" opens modal with format selection (PDF / CSV / Excel radio buttons with icons), content selection checkboxes (Include Summary / Include Charts / Include Raw Data / Include Statistical Analysis), date range confirmation display, and "Generate Export" button. On click, shows loading spinner with progress bar animation, then displays toast "Export generated successfully - Download starting..." (mock - no actual file generated, but could integrate jsPDF or Excel export libraries). Viewers clicking export see dialog "Premium Feature - Data export requires Admin or Operator privileges. Contact your administrator to upgrade your account" with "Understood" button.

=== PAGE 5: FULLSCREEN MAP ===

LAYOUT: Fullscreen viewport map with minimal header, no sidebar. Map takes entire screen height with overlay UI elements.

MINIMAL HEADER BAR: Semi-transparent glass bar fixed at top with backdrop blur. Left: Harties Action logo with "Harties Action" text acts as home button. Center: "Fullscreen Map View" title in medium text with Map icon. Right side controls: Zone filter dropdown (Overall / Zone 1 / Zone 2 / Zone 3 / Zone 4 / Zone 5) with instant filtering, "Configure Buoys" button (Admin only) with Settings icon opens drag-and-drop mode, Close button with X icon returns to dashboard, User avatar with dropdown menu (Profile / Logout).

MAP DISPLAY: Large stylized dam shape filling viewport with detailed water gradient (multiple shades of blue creating depth effect from #e3f2fd light edges to #1565c0 deep center). All 10 buoys rendered as larger markers (24px diameter vs 16px on dashboard) with enhanced visual effects: larger circular glow on hover, animated ripple effect, detailed tooltip showing buoy name and status on hover, click expands to show floating info panel. Zone boundaries clearly marked with colored overlay regions (semi-transparent fills) and zone labels positioned in center of each zone. Subtle wave animation on water surface using CSS keyframes.

LEGEND: Always-visible compact legend card positioned bottom-left corner with glass background. Shows status colors (green/orange/red circles with labels), zone colors (5 colored squares with zone names), parameter icons with labels. Collapsible with chevron button but defaults to open. Uses minimal space with icons and abbreviated text.

FLOATING INFO PANEL: When buoy clicked, floating card appears adjacent to selected buoy (positioned dynamically to avoid screen edges). Panel shows: Buoy name in bold with status badge, zone badge, all sensor readings in compact grid (parameter icon, value, unit, status dot), active alerts list with alert icons, last update timestamp, two action buttons: "View Full Details" (navigates to dashboard with that buoy selected and auto-scrolls to detailed sensor panel) and "Close" (closes panel). Panel has pointer/arrow pointing toward selected buoy, glass background with blur, shadow for elevation.

ADMIN DRAG-AND-DROP MODE: When Admin clicks "Configure Buoys", interface enters configuration mode: overlay message appears at top "Drag buoys to reposition - Click Save when done", all buoys become draggable with cursor: grab/grabbing, live coordinate display appears bottom-right showing x% and y% as buoy is dragged, grid overlay with 5% increment marks helps with alignment, constraint boundary highlights (recommended water area), bottom action bar appears with "Reset to Default" button (reverts all buoys to initial positions), "Save Positions" button (saves to localStorage and updates buoy state, shows toast "Buoy positions saved successfully"), "Cancel" button (exits mode without saving, confirms with "Discard changes?" dialog if positions changed). Drag uses onMouseDown/onMouseMove/onMouseUp events with percentage-based positioning, updates position in real-time, validates positions stay within reasonable bounds (40-60% x, 40-65% y recommended).

KEYBOARD NAVIGATION: Arrow keys cycle through buoys (Right/Down to next, Left/Up to previous), Enter to select highlighted buoy and open info panel, Escape to deselect/close panel, Tab to navigate header controls, / to focus zone filter dropdown.

=== PAGE 6: PROFILE ===

LAYOUT: Split screen - left sidebar 30% with user summary, right content 70% with editable sections.

LEFT SIDEBAR: Large circular avatar (96px) at top with hover effect to "Change Photo" (mock - no actual upload, just shows dialog explaining feature), user full name in large bold text below avatar, email in gray text, role badge (Admin purple, Operator blue, Viewer gray) with role icon, organization badge with building icon, "Member since" date in small gray text, divider line, "Edit Profile" button with Pencil icon switches right side to edit mode.

RIGHT CONTENT (VIEW MODE): Four card sections:

PERSONAL INFORMATION CARD: Displays First Name with User icon, Last Name with User icon, Email with Mail icon (read-only with lock icon), Phone Number with Phone icon, Location with MapPin icon. Each field shows label and value in two-column layout. "Edit" button top-right switches to edit mode.

ORGANIZATION CARD: Organization name with Building icon (read-only), Role with Shield icon (read-only). For Hartbeespoort Local users, shows yellow info badge "Organizational Policy: Hartbeespoort Local Municipality members have Viewer access only. Contact admin to discuss role changes." Card background has subtle yellow tint for Hartbeespoort users.

ACCOUNT SETTINGS CARD: Dark Mode toggle with Moon/Sun icon showing current state (switches immediately on toggle with smooth animation), Notification Preferences section with checkboxes for "Email notifications for critical alerts" (checked), "SMS notifications" (unchecked), "Weekly summary reports" (checked), "System maintenance updates" (checked), Language dropdown showing "English" selected with disabled state and "(More languages coming soon)" text.

SECURITY CARD: "Change Password" button with Key icon opens modal, Last Password Change date in gray text, Two-Factor Authentication toggle with lock icon (currently disabled - mock feature, toggling shows "Feature coming soon" toast), Active Sessions section showing current session with device info (Browser on Device, IP address mock, "Active now" green dot, "This device" label), "View All Sessions" link.

RIGHT CONTENT (EDIT MODE): Same sections but with editable input fields:

PERSONAL INFORMATION EDIT: First Name input (text, required), Last Name input (text, required), Email input (disabled, shows lock icon and tooltip "Email cannot be changed. Contact support."), Phone Number input (text, phone format validation), Location input (text). All inputs have white backgrounds, rounded borders, focus states with primary green outline. Inline validation shows red text for errors.

SAVE/CANCEL BUTTONS: Bottom of edit section shows "Save Changes" button in gradient-primary (disabled until changes detected), "Cancel" button in outline style returns to view mode (confirms "Discard changes?" if changes made). On save, shows loading spinner on button, validates all fields, updates user state, saves to localStorage, shows toast "Profile updated successfully", switches back to view mode.

DANGER ZONE (always at bottom): Red-bordered card with warning icon, "Delete Account" text, description "Permanently delete your account and all associated data. This action cannot be undone.", "Delete Account" button in red with Trash icon. Clicking opens confirmation dialog with text input requiring typing "DELETE" to confirm, two-factor confirmation "Are you really sure? This cannot be undone!", "Permanently Delete" button in red, "Cancel" button. On confirm, shows "Account deleted" toast and navigates to login screen (mock - no actual deletion).

=== SPECIAL FEATURES ===

BUOY POSITION CONFIGURATOR: Admin-exclusive modal/overlay accessed from dashboard "Configure Buoys" button or fullscreen map. Displays fullscreen interface with dam map, all 10 buoys as draggable elements. Features: onMouseDown starts drag, onMouseMove updates position in real-time with coordinate display, onMouseUp ends drag and updates state, percentage-based calculations (mouse position relative to container, converted to percentage), live coordinate display bottom-right corner showing "Buoy-X: 52.3%, 48.7%" as dragging, visual grid overlay with 5% increments, constraint validation preventing buoys going outside water area, "Reset to Default" button reverts positions to initial hardcoded values, "Save Positions" button saves object with buoy IDs as keys and {x, y} coordinates to localStorage key 'buoy-positions', toast notification on save, "Cancel" button with confirm dialog if changes exist. Initial positions loaded from localStorage on app mount, merged with default positions for any missing buoys.

AI SIMULATION ENGINE: Background process in DataSimulationEngine component running on 5-second interval via setInterval. Each cycle: iterates through all buoys, updates each sensor with random variation (±15% of current value multiplied by variability factor 0.15), applies trend factors (gradual increase or decrease over time to simulate real-world patterns like temperature rising during day), simulates correlated changes (high temperature reduces DO, high TSS reduces DO, high phosphate increases TSS), checks all sensor values against thresholds after update, generates alerts if thresholds crossed (adds to buoy.alerts array), updates buoy.status based on worst sensor state (any critical sensor makes buoy critical, any warning makes it warning, all good makes it good), updates lastUpdate timestamp to current time. Every 30 seconds (6 cycles), generates predictive insights by analyzing trends across last N updates, identifying patterns like "DO declining in Zone 4 for 3 consecutive readings", calculating confidence based on trend consistency, creating PredictiveInsight object with title, description, confidence (0-100), timeframe (hours), affected buoy IDs, action required flag, priority level. High-priority insights (confidence >80% and critical parameters) trigger toast notifications with warning icon. Engine starts on component mount, cleans up on unmount.

DIAGNOSTICS ANALYSIS ENGINE: Triggered when buoy selected, analyzes current sensor readings to generate contextual insights. Logic: if DO < 5.0 AND TSS > 4000, probable cause = "Algae bloom due to nutrient overload", recommended actions = ["Deploy aeration system immediately" (Immediate), "Test water samples for algae species" (Soon), "Review nutrient sources upstream" (Routine)]. If pH > 8.3 AND DO < 6.0, probable cause = "Excessive photosynthetic activity", actions = ["Consider aeration to balance oxygen" (Soon), "Monitor algae growth" (Routine)]. If temperature > 26 AND DO < 5.5, probable cause = "Thermal stratification causing oxygen depletion", actions = ["Deploy destratification system" (Immediate), "Monitor lower water layers" (Soon)]. If phosphate > 0.3, cause = "Nutrient pollution from upstream sources", actions = ["Investigate agricultural runoff" (Soon), "Implement buffer zones" (Routine)]. If pH < 6.8, cause = "Acidification possibly from decomposition", actions = ["Test for organic matter buildup" (Soon), "Consider pH adjustment" (Routine)]. Multiple conditions can combine for multi-factor analysis. Priority badges: Immediate (red, AlertCircle icon), Soon (orange, Clock icon), Routine (blue, Info icon).

DARK MODE SYSTEM: Toggles via button in sidebar footer or profile page. On toggle, calls setIsDarkMode(!isDarkMode), useEffect watches isDarkMode and adds/removes 'dark' class on document.documentElement, saves preference to localStorage key 'dark-mode' as 'true'/'false' string. CSS in globals.css defines :root variables for light mode and .dark class override variables for dark mode. All color references use var(--color-name) so they automatically switch. Transition: all var(--transition-normal) on affected elements for smooth color change (250ms). Toast notification shows "Dark mode enabled" or "Light mode enabled" with Sun/Moon icon.

SESSION PERSISTENCE: On login/register, creates user session object {user: User, isGuest: boolean}, saves to localStorage key 'user-session' via JSON.stringify. On app mount, useEffect runs once checking localStorage.getItem('user-session'), if found, JSON.parse to restore session, setCurrentUser(session.user), setIsGuestMode(session.isGuest), setCurrentPage('dashboard'). Dark mode preference loaded separately from localStorage key 'dark-mode'. On logout, localStorage.removeItem('user-session'), state cleared, navigate to login.

TOAST NOTIFICATION SYSTEM: Uses Sonner library imported from 'sonner@2.0.3'. Import {toast} from 'sonner@2.0.3' in components. Call toast.success(title, {description}) for success, toast.error() for errors, toast.warning() for warnings, toast.info() for info. Toasts appear top-right on desktop, top-center on mobile, auto-dismiss after 3000ms (configurable), swipe to dismiss, max 3 visible at once, stack animation. Triggers: Login success, Logout, Action logged, Profile updated, Buoy positions saved, Export generated, Dark mode toggled, AI prediction alert (high priority only), Validation errors.

MOBILE RESPONSIVE: Breakpoints: <768px mobile, 768-1024px tablet, >1024px desktop. Mobile changes: sidebar becomes drawer (closed by default, open with hamburger), two-column layouts stack vertically, cards full width, tables switch to mobile cards with key/value pairs stacked, charts simplify to show fewer data points, touch targets minimum 44px, font sizes slightly larger, padding reduced. Tablet: sidebar remains, columns may stack on narrower tablets, charts maintain detail. Uses Tailwind responsive prefixes: default (mobile), md: (tablet), lg: (desktop).

=== DATA STRUCTURES ===

10 buoys with exact specifications:
- Buoy-1: "North Zone Alpha", Zone 1, (48.5%, 42.0%), good status, TSS: 2100, DO: 8.2, Phosphate: 0.15, pH: 7.8, Temperature: 22.5
- Buoy-2: "Central Monitor Beta", Zone 3, (52.0%, 50.0%), warning status, TSS: 4500, DO: 5.8, Phosphate: 0.28, pH: 7.2, Temperature: 24.1, alerts: ["Dissolved oxygen trending downward"]
- Buoy-3: "South Checkpoint", Zone 5, (46.0%, 58.0%), good status, TSS: 1800, DO: 8.5, Phosphate: 0.12, pH: 7.9, Temperature: 21.8
- Buoy-4: "West Inlet Gamma", Zone 4, (42.0%, 52.0%), critical status, TSS: 7200, DO: 4.1, Phosphate: 0.42, pH: 6.8, Temperature: 26.3, alerts: ["Critical: Low dissolved oxygen", "High suspended solids", "pH trending low"]
- Buoy-5: "Northeast Outpost", Zone 2, (56.0%, 44.0%), good status, TSS: 2350, DO: 7.9, Phosphate: 0.18, pH: 7.7, Temperature: 23.1
- Buoy-6: "Central East Delta", Zone 3, (54.0%, 54.0%), warning status, TSS: 3800, DO: 6.2, Phosphate: 0.31, pH: 7.3, Temperature: 24.8, alerts: ["Phosphate levels elevated"]
- Buoy-7: "South Basin Echo", Zone 5, (50.0%, 60.0%), good status, TSS: 1950, DO: 8.3, Phosphate: 0.14, pH: 7.8, Temperature: 22.2
- Buoy-8: "North Inlet Primary", Zone 1, (44.0%, 46.0%), good status, TSS: 2200, DO: 8.1, Phosphate: 0.16, pH: 7.7, Temperature: 22.9
- Buoy-9: "West Central Zeta", Zone 4, (46.0%, 48.0%), warning status, TSS: 4100, DO: 6.5, Phosphate: 0.29, pH: 7.4, Temperature: 23.7, alerts: ["TSS slightly elevated"]
- Buoy-10: "Northeast Ridge", Zone 2, (58.0%, 48.0%), good status, TSS: 1700, DO: 8.7, Phosphate: 0.11, pH: 8.0, Temperature: 21.5

Initial action logs: 4 sample logs showing calibration, alert acknowledgment, maintenance, and system check from different users with appropriate timestamps, categories, and details.

=== TECHNICAL STACK ===

React with TypeScript for type safety, Tailwind CSS v4.0 for styling using CSS variables (no tailwind.config.js), Shadcn/UI components from /components/ui/ directory (all components pre-installed: button, card, badge, select, dropdown-menu, dialog, tabs, table, form, input, textarea, tooltip, alert-dialog, avatar, calendar, checkbox, switch, progress, separator, scroll-area, etc.), Lucide React for icons (import icons by name like {Activity, AlertTriangle, User} from 'lucide-react'), Recharts for all charts and data visualization (LineChart, BarChart, PieChart, RadarChart, ScatterChart, AreaChart with responsive containers), Motion (previously Framer Motion) imported from 'motion/react' for animations (motion.div with initial/animate/exit props), Sonner for toasts imported from 'sonner@2.0.3', React Hook Form for form validation imported from 'react-hook-form@7.55.0'.

File structure: /App.tsx main entry with routing logic, /components/ for all React components, /components/ui/ for Shadcn components, /styles/globals.css for design tokens and global styles, /components/figma/ImageWithFallback.tsx protected system file.

State management: React useState/useEffect hooks, props drilling for shared state, localStorage for persistence (user session, dark mode, buoy positions), no external state library needed.

Design tokens in globals.css: CSS variables for colors (--primary, --secondary, --success, --warning, --destructive, etc.), spacing, borders, shadows, typography sizes, with :root for light mode and .dark for dark mode overrides, @layer base for typography defaults, @layer utilities for custom classes (glass, gradient-primary, status-good, etc.).

=== ANIMATIONS & INTERACTIONS ===

Buoy interactions: hover scales to 1.1 with glow ring (transition 200ms), click scales to 1.2 with persistent ring, pulse animation keyframes scale 0.95 ↔ 1.05 loop 2s infinite on status indicators.

Button interactions: hover background darkens 10% and scale 1.02 (transition 150ms), active press scale 0.98, disabled opacity 0.5 with cursor-not-allowed, gradient buttons animate background-position on hover.

Card animations: entrance fade in opacity 0 → 1 + translateY 20px → 0 over 300ms with motion.div, hover lift shadow-md → shadow-lg transition 200ms, click ripple effect.

Page transitions: fade current page out opacity 1 → 0 over 150ms, switch component, fade new page in opacity 0 → 1 over 250ms.

Modal animations: backdrop fade in with blur, modal scale 0.95 → 1.0 + fade in over 200ms, exit reverse animation, overlay click closes with animation.

Chart animations: data values animate from 0 to actual over 800ms on mount (Recharts animationDuration prop), updates transition over 300ms, tooltip appears with 100ms delay.

Loading states: skeleton screens show pulsing gray rectangles matching content layout, spinner uses circular animation rotate 360deg loop 1s linear.

Microinteractions: checkbox checkmark animates with spring, switch slides with easing, dropdown menus slide down with fade, tooltips appear after 300ms hover with subtle scale.

=== ACCESSIBILITY ===

Semantic HTML: header, nav, main, aside, article, section elements, button not div for clickable elements, label associated with inputs.

ARIA: aria-label on icon-only buttons, aria-live regions for dynamic updates (toast notifications, data refreshes), aria-expanded on collapsible elements, role="button" on custom clickable elements.

Keyboard navigation: Tab through all interactive elements in logical order, Enter/Space activate buttons, Escape closes modals/dialogs, Arrow keys navigate lists/maps, / focuses search, ? opens help.

Focus indicators: 3px solid primary outline on focus-visible, outline-offset 2px, box-shadow focus rings on buttons, skip links for screen readers.

Color contrast: WCAG AA compliant 4.5:1 minimum for text, status colors tested in both light and dark modes, sufficient contrast on all interactive elements.

Screen reader support: descriptive alt text on images, visually hidden text for icon-only elements (<span class="sr-only">), announcement of dynamic content via aria-live.

Touch targets: minimum 44px height/width on mobile, adequate spacing between interactive elements, larger tap areas than visual size using padding.

=== THIS APPLICATION DEMONSTRATES ===

Professional environmental monitoring dashboard for Hartbeespoort Dam with 10 sensor buoys tracking water quality parameters (TSS, DO, pH, Phosphate, Temperature) across 5 geographic zones. Real-time data simulation engine updates all sensors every 5 seconds with realistic variations, trends, and correlated changes. AI-powered analytics calculate Water Quality Index using weighted scoring, perform statistical correlation analysis, generate machine learning predictions with confidence intervals, and provide intelligent diagnostics with probable causes and recommended actions. Comprehensive role-based access control with Admin (full access including buoy positioning), Operator (data entry and viewing), and Viewer (read-only) roles, with special organizational restriction for Hartbeespoort Local Municipality users locked to Viewer role. Complete authentication system with login, registration, guest mode, and session persistence across refreshes. Six fully-featured pages: Dashboard with interactive map and sensor details, Advanced Analytics with four analysis modes, Action Logging with filtering and export, Reports with three report types, Fullscreen Map with drag-and-drop configuration, and Profile with comprehensive user management. Professional glassmorphic design with light/dark modes, smooth animations, responsive mobile layout, toast notifications, and accessibility features. The system provides environmental scientists and water management officials with powerful tools for monitoring, analyzing, and predicting water quality trends to protect the Hartbeespoort Dam ecosystem.